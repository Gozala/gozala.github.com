---
layout: post
title: bespin multibackend mockup
tags: bespin mockup
---

Finally I forced myself to spend some time with photo editing software in order to make this mockup. As I mentioned in my recent post I had <a href="http://code.google.com/p/gozellen/" target="_blank">pet project</a> which was something like <a href="https://bespin.mozilla.com/" target="_blank">bespin</a> is. When has been bespin lunched, I had to kill my pet ;( I have to admit that I really like the ideas bespin is relying on and have to mention that my pet was so far behind :) Anyway there's one thing which I had in my mind for my project but I can't see any efforts to get something similar in bespin. I've tried to describe idea in <a href="http://groups.google.com/group/bespin" target="_blank">bespin mailing list</a> but did not had much success there, guess brief description was not enough to show potential of it.

I personally thing the whole idea of having bespin instances on different web resources on different backends is wrong initially. As a developer I would like to have a single editor with all my setting and plugins in the cloud and I would like to be able to use it at work, for my personal projects, for local files, etc ... I want to be able to use it  from any computer I have to work with, no matter if I'm online or not. Thinking of synchronizations of settings, plugins etc.. between servers (hosting bespin) makes me think of the regular editors we've got used to. I expect bespin to be different :) To ambitious, I know!! Lets take a look, how do I imagine that:

<img class="size-full wp-image-94 alignnone" title="bespin-mock" src="http://rfobic.files.wordpress.com/2009/04/bespin-mock.png" alt="Dashboard" width="600" height="356" />

Above is the picture showing how bespin dashboard can look like. In the first column you might notice groups _(Bespin, github, Private, local, work)_ containing projects. Each of those groups is a representation of a connections with a hosts _(hosting bespin backend)_. Still not clear ? Well lets go through each of those groups and I will try to explain it better with extra details and examples.
<ol>
	<li>Connection - *Bespin

*<img class=" alignnone" title="onlineprojects-mock" src="http://rfobic.files.wordpress.com/2009/04/onlineprojects-mock.png" alt="bespin" width="173" height="64" />

That's a connection with the server <a href="https://bespin.mozilla.com/" target="_blank">https://bespin.mozilla.com/</a>.  Projects listed under this group are the projects which are hosted on <a href="https://bespin.mozilla.com/" target="_blank">https://bespin.mozilla.com/</a> server. Connection label (Bespin) is displayed in orange color, that means that connection is in *online mode*.</li>
	<li>Connection - *github
*
<img class="alignnone size-full wp-image-96" title="editsettings-mock" src="http://rfobic.files.wordpress.com/2009/04/editprojectsettings-mock.png" alt="editsettings-mock" width="173" height="152" />

That's a connection with the server <span style="text-decoration:underline;">https://github.com/bespin/</span>. Projects listed under this group (mozshell@lds.ge, seethrough_js, helma-ng) are hosted on the github server. Here, as in previous example connection label is displayed in orange color, that means that connection is in *online mode*. Unlike in previous image we can see some fields (label, host, username, password) here. That's because user have opened settings for this connection. Guess you're really confused now, let me explain what I mean. Idea is that user is able to create connections with a different backends. Let's assume that github also hosts bespin. Adding connection to github bespin account should be possible even if user is on the <a href="https://bespin.mozilla.com/" target="_blank">https://bespin.mozilla.com/.</a> Idea is that bespin will know host for each project, so when user will try to open a file from project under connection github, XMLHttpRequest  will be sent not to the <a href="https://bespin.mozilla.com/" target="_blank">https://bespin.mozilla.com/</a> where page was loaded from, but to the <span style="text-decoration:underline;">https://github.com/bespin/</span> _(Lets forget about all xhr restrictions for now :). _In setting user can change the label for connection, or even host url and login info.__

__</li>
	<li>Connection - *private
**<img class="alignnone size-full wp-image-97" title="flakymode-mock" src="http://rfobic.files.wordpress.com/2009/04/flakymode-mock.png" alt="flakymode-mock" width="173" height="32" />

*That's a connection with the server <span style="text-decoration:underline;">https://privatehost.local/</span>. Lets suppose it's a connection with host which is not accessible now. But using gears / html 5 offline storage projects and files under this connection are still available, just like in gmail :). The Violette connection label means that host is in a *flaky mode*. User can edit files save changes, besically do whatever he is able while being online and all the changes will be synced with a corresponding server when connection will go to *online mode*.

<img class="alignnone size-full wp-image-100" title="tosync-mock" src="http://rfobic.files.wordpress.com/2009/04/tosync-mock.png" alt="tosync-mock" width="150" height="116" />

Violette file titles mean that this files have local changes which will be synced in *online mode.**
*</li>
	<li>Connection - *local
**<img class="alignnone size-full wp-image-98" title="minimized-mock" src="http://rfobic.files.wordpress.com/2009/04/minimized-mock.png" alt="minimized-mock" width="173" height="16" />

*That's a connection with the server <span style="text-decoration:underline;">http://localhost:8080/</span>. There is no projects listed under this group, because connection group is folded. As you might noticed in all the rest images there was "-" sign in the right corner of the connection, meaning that you can fold this group. In this case there is "+" sign meaning that connection group is folded and it can be unfolded. Here, as in first 2 examples connection label is displayed in orange color, meaning that connection is in *online mode*.</li>
	<li>Connection - *work
**<img class="alignnone size-full wp-image-99" title="offline-mock" src="http://rfobic.files.wordpress.com/2009/04/offline-mock.png" alt="offline-mock" width="173" height="16" />*

That's a connection with server <span style="text-decoration:underline;">https://intranet/</span>. Connection label is displayed in gray and no projects are listed under. This means that host is unreachable and this connection is in *offline mode*. In 3rd example host was also unreachable, but connection was in *flaky mode.* Reason is that in that example host had support for local data caching and synchronizations. In this case host doesn't supports / restricts local data caching, there for no data is available when host is unreachable.</li>
</ol>
Hope that now whole picture and the idea is much clearer. Of course there's a lot's of valid questions regarding how to implement this, but it's a totally different topic. There's already Cross-site HTTP requests in firefox 3.5 and hope more browsers will follow this example. We could use gears or html 5 offline storage for working offline etc. But the idea of this post was to suggest ideas and then start discussion around them.